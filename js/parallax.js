function mr_parallax(){function e(){var e=0;return null!=x&&(e=$(x).find("nav:first").outerHeight(!0)),e}function t(){if(u){for(var e=a.length,l=o();e--;)n(a[e],l);u=!1}c&&(((h+=-w*function(e,t,n,o){var l=e-1;return l/=o,e/=o,n*(--e*e*e*e*e+1)+t-(n*(--l*l*l*l*l+1)+t)}(f,0,p,v))>g||-g>h)&&(x.scrollBy(0,h),h=0),++f>v&&(f=0,c=!1,!0,w=0,0,0,h=0)),i(t)}function n(e,t){if(E){if(t+d>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){var n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[s]=n}else{n="translate3d(0, "+(t-e.elemTop-m)/2+"px, 0)";e.imageHolder.style[s]=n}}else if(t+d>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[s]=n}else{n="translate3d(0, "+(t+d-e.elemTop)/2+"px, 0)";e.imageHolder.style[s]=n}}function o(){return x!=window?x.scrollTop:0==document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}function l(){u=!0}function r(e){}var a,i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,s=function(e){for(var t=0;t<e.length;t++)if(void 0!==document.body.style[e[t]])return e[t];return null}(["transform","msTransform","webkitTransform","mozTransform","oTransform"]),d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),m=0,u=!1,c=!1,f=0,w=0,h=0,p=300,g=1,v=30,x=(h=0,window),T=this,E=null!=window.mr_variant;$(document).ready(function(){"use strict";d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),/Android|iPad|iPhone|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)?$(".parallax").removeClass("parallax"):i&&(window.mr_parallax.profileParallaxElements(),(E=null!=window.mr_variant)&&null!=(x=$(".viu").get(0))&&(x.scrollBy=function(e,t){this.scrollTop+=t}),null!=x&&(x.addEventListener("scroll",l,!1),window.addWheelListener(x,r,!1),window.addEventListener("resize",function(){d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),m=e(),T.profileParallaxElements()},!1),t()))}),$(window).load(function(){d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),m=e(),window.mr_parallax.profileParallaxElements()}),this.profileParallaxElements=function(){a=[],m=e(),selector=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder",E&&(selector=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder"),$(selector).each(function(e,t){var n=$(this).closest(".parallax"),l=E?n.position().top:n.offset().top;a.push({section:n.get(0),outerHeight:n.outerHeight(),elemTop:l,elemBottom:l+n.outerHeight(),isFirstSection:!!n.is(":first-of-type"),imageHolder:$(this).get(0)}),E?E&&(n.is(":first-of-type")?T.mr_setTranslate3DTransform($(this).get(0),0==o()?0:o()/2):T.mr_setTranslate3DTransform($(this).get(0),(o()-l-m)/2)):n.is(":first-of-type")?T.mr_setTranslate3DTransform($(this).get(0),0==o()?0:o()/2):T.mr_setTranslate3DTransform($(this).get(0),(o()+d-l-m)/2)})},this.mr_setTranslate3DTransform=function(e,t){e.style[s]="translate3d(0, "+t+"px, 0)"}}window.mr_parallax=new mr_parallax,function(e,t){function n(t,n,a,i){t[o](r+n,"wheel"==l?a:function(t){!t&&(t=e.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,notRealWheel:1,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==l?(n.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-.025*t.wheelDeltaX)):n.deltaY=t.detail/3,a(n)},i||!1)}var o,l,r="";e.addEventListener?o="addEventListener":(o="attachEvent",r="on"),l="onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll",e.addWheelListener=function(e,t,o){n(e,l,t,o),"DOMMouseScroll"==l&&n(e,"MozMousePixelScroll",t,o)}}(window,document);